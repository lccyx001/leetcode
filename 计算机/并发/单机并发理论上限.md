# 单机并发理论上限

这里讨论的是Web开发过程中，单个服务器或客户端理论与实际的tcp连接数上限。

## 五元组

源地址，端端口，目的地址，目的端口，协议号

## 服务器理论最大连接数

服务器最大连接数：
2 ^ 32（源地址数） * 2 ^ 16（源端口数） = 2 ^ 48

## 实际最大连接数

现实生活中，每条连接都会消耗服务器资源，实际开发中会设置最大连接数，确保服务器运行的稳定。
因此最大连接数与业务是直接相关的。单机几十/几百/几千/几万/十几万都是存在的。

## 客户端理论最大连接数

1(源地址数) * 2 ^ 16（源端口数） = 2 ^ 16

## 一个公网出口NAT服务设备最多可同时支持多少内网IP并发访问外网服务？

65535(客户端可连接最大服务器数量)

客户端 <-65535->  NAT服务器 <-1-> 公网

此时可以将NAT理解为客户端，一个客户端可连接的最大服务器数量是65535个
